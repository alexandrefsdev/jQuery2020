<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventos do Teclado</title>
    <!--
        Keydown - Pressiona
        Keyup - Solta a tecla
        Keypress - Após Pressionar

        toUpperCase() -  Maiuscula
        toLowerCase() - Minuscula
    -->
    <link rel="stylesheet" href="eventos-teclado.css">
    <script type="text/javascript" src="jquery-3.5.1.min.js"></script>
</head>

<body>
    <section class="container">
        <form>
            <div>
                <label>Nome Completo:</label>
                <input type="text" name="nomecompleto" class="maiuscula">
            </div>
            <div>
                <label>Nome Usuário:</label>
                <input type="text" name="usuario" class="minuscula">
            </div>
            <div>
                <label>Mensagem:</label>
                <textarea name="msg"></textarea>
                <span class="contagem"></span>
            </div>
        </form>
    </section>



    <script type="text/javascript">

        $(document).ready(function () {
            // Disparar função depois de pressionar
            $('.maiuscula').keyup(function () {
                let maiuscula = $(this).val();
                $(this).val(maiuscula.toUpperCase());
            })

            $('.minuscula').keyup(function () {
                let minuscula = $(this).val();
                $(this).val(minuscula.toLowerCase());
            })

            $('textarea').keyup(function () {
                let maximo = 5;
                let disponivel = maximo - $(this).val().length;

                if(disponivel < 0) {
                    let texto = $(this).val().substr(0, maximo);
                    $(this).val(texto)
                    disponivel = 0;
                }
                $('.contagem').text(disponivel).css('color' ,'red');

            })
        });
    </script>
</body>

</html>